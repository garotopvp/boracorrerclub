<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Título e Meta Descrição Otimizados para SEO -->
    <title>Calculadora de Pace e VO₂ Máx | Bora Correr Club</title>
    <meta name="description" content="Calcule seu VO₂ Máx e descubra suas zonas de treinamento de corrida com nossa calculadora gratuita baseada no teste de 3km. Uma ferramenta do Bora Correr Club.">

    <!-- Canonical Tag -->
    <link rel="canonical" href="https://www.boracorrerclub.com.br/calculadora.html">

    <!-- Tailwind CSS (Play CDN para prototipagem) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Poppins com display=swap para performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script>
        // Configuração customizada do Tailwind
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#fef2f6',
                            DEFAULT: '#f20561',
                            dark: '#d90456',
                        },
                    }
                }
            }
        }
    </script>

    <style>
        body { font-family: 'Poppins', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        .cta-button { transition: all 0.3s ease; }
        .cta-button:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 10px 20px rgba(242, 5, 97, 0.25); }
        .social-icon:hover { transform: scale(1.2); color: #f20561; }
        .nav-link:hover { color: #f20561; transform: translateY(-2px); }
        
        /* Estilos da Calculadora */
        .zone-badge.z1 { background-color: #0ea5e9; } /* sky-500 */
        .zone-badge.z2 { background-color: #22c55e; } /* green-500 */
        .zone-badge.z3 { background-color: #eab308; } /* yellow-500 */
        .zone-badge.z4 { background-color: #f97316; } /* orange-500 */
        .zone-badge.z5 { background-color: #ef4444; } /* red-500 */
    </style>
</head>
<body class="bg-gray-100">
    <!-- Cabeçalho Simplificado -->
    <header role="banner" class="bg-white shadow-md p-4">
        <div class="container mx-auto flex justify-between items-center">
            <a href="index.html" aria-label="Bora Correr Club - Página Inicial">
                <img src="https://i.postimg.cc/9MVkvpvW/Captura-de-tela-2025-06-02-134628.png" alt="Logo do Bora Correr Club" class="h-12 w-auto">
            </a>
            <a href="index.html" class="font-semibold text-primary hover:text-primary-dark transition-colors nav-link">
                &larr; Voltar ao site principal
            </a>
        </div>
    </header>

    <main id="main-content" class="flex items-center justify-center min-h-[calc(100vh-160px)] py-12">
        <div class="w-full max-w-4xl bg-white rounded-2xl shadow-lg p-6 md:p-8 mx-4">
            <div class="text-center mb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Calculadora de Teste de 3.000 metros</h1>
                <p class="text-gray-500 mt-2">Use nossa ferramenta para estimar seu VO₂ Máx e descobrir suas zonas de treino.</p>
            </div>

            <form id="calculatorForm" class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                <p class="text-center font-semibold text-gray-700 mb-4">Tempo do Teste de 3.000m</p>
                <div class="grid grid-cols-2 gap-4 items-center max-w-sm mx-auto">
                    <div>
                        <label for="minutes" class="block text-sm font-medium text-gray-700 text-center mb-1">Minutos</label>
                        <input type="number" id="minutes" inputmode="numeric" class="w-full px-4 py-3 text-center text-lg bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-dark focus:border-primary-dark transition-all" placeholder="15" min="5" max="30" required>
                    </div>
                    <div>
                        <label for="seconds" class="block text-sm font-medium text-gray-700 text-center mb-1">Segundos</label>
                        <input type="number" id="seconds" inputmode="numeric" class="w-full px-4 py-3 text-center text-lg bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-dark focus:border-primary-dark transition-all" placeholder="00" min="0" max="59" required>
                    </div>
                </div>
                <div class="text-center my-6">
                    <button type="submit" id="calculateBtn" class="w-full md:w-auto bg-primary hover:bg-primary-dark text-white font-bold py-3 px-10 rounded-lg focus:outline-none focus:ring-4 focus:ring-primary/50 transition-all transform hover:scale-105 disabled:opacity-75 disabled:cursor-not-allowed">
                        Calcular Resultados
                    </button>
                </div>
            </form>

            <div id="error-message" class="hidden mt-4 text-center text-red-600 font-medium p-3 bg-red-100 rounded-lg" aria-live="assertive"></div>

            <div id="results" class="hidden opacity-0 transform -translate-y-4 transition-all duration-500" tabindex="-1" aria-live="polite">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-8 text-center">
                    <div class="bg-primary-light p-4 rounded-lg">
                        <p class="text-sm font-medium text-primary-dark">VO₂ Máx Estimado</p>
                        <p id="vo2maxResult" class="text-3xl font-bold text-primary"></p>
                    </div>
                    <div class="bg-green-100 p-4 rounded-lg">
                        <p class="text-sm font-medium text-green-800">Pace Médio do Teste (vVO₂Max)</p>
                        <p id="paceResult" class="text-3xl font-bold text-green-700"></p>
                    </div>
                </div>

                <h3 class="text-xl font-bold text-gray-800 text-center mb-4">Zonas de Treinamento e Percepção de Esforço (PSE)</h3>

                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                        <caption class="sr-only">Tabela de Zonas de Treinamento com base no seu resultado, incluindo a zona, a escala de percepção de esforço (PSE), a descrição do esforço e o pace sugerido por quilômetro.</caption>
                        <thead class="bg-gray-50">
                            <tr>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Zona</th>
                                <th scope="col" class="px-4 py-3 text-center text-xs font-bold text-gray-600 uppercase tracking-wider">PSE (1-10)</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Descrição</th>
                                <th scope="col" class="px-4 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Pace Sugerido</th>
                            </tr>
                        </thead>
                        <tbody id="pacesTable" class="divide-y divide-gray-200"></tbody>
                    </table>
                </div>
                <p class="text-xs text-gray-500 mt-4 text-center">*Baseado na fórmula de Daniels e Gilbert. Procure orientação profissional.</p>
            </div>
        </div>
    </main>

    <footer role="contentinfo" class="bg-gray-900 text-gray-400 py-8">
        <div class="container mx-auto text-center">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="https://www.instagram.com/boracorrerclub/" target="_blank" rel="noopener noreferrer" aria-label="Nosso Instagram" class="text-gray-400 transition-all duration-300 social-icon"><i data-feather="instagram" class="w-6 h-6"></i></a>
            </div>
            <p class="mb-2">&copy; 2025 Bora Correr Club. Todos os direitos reservados.</p>
            <p class="flex items-center justify-center gap-1 mb-4">Feito com <i data-feather="heart" class="inline-block h-4 w-4 text-primary" aria-hidden="true" focusable="false"></i> por uma comunidade de apaixonados.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/feather-icons" defer></script>
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            feather.replace();

            // --- Lógica da Calculadora ---
            const form = document.getElementById('calculatorForm');
            const minInput = document.getElementById('minutes');
            const secInput = document.getElementById('seconds');
            const calculateBtn = document.getElementById('calculateBtn');
            const errorBox = document.getElementById('error-message');
            const results = document.getElementById('results');
            const vo2Display = document.getElementById('vo2maxResult');
            const paceDisplay = document.getElementById('paceResult');
            const tableBody = document.getElementById('pacesTable');

            const ZONAS_DE_TREINO = [
                { name: 'Z5', pse: '9-10', desc: 'Máximo', example: 'Esforço máximo', upper: 0.99, lower: 0.90, colorClass: 'z5' },
                { name: 'Z4', pse: '7-8', desc: 'Muito Intenso', example: 'Difícil de manter', upper: 1.05, lower: 1.00, colorClass: 'z4' },
                { name: 'Z3', pse: '5-6', desc: 'Intenso', example: 'Respiração profunda', upper: 1.14, lower: 1.06, colorClass: 'z3' },
                { name: 'Z2', pse: '3-4', desc: 'Moderado', example: 'Confortável', upper: 1.29, lower: 1.15, colorClass: 'z2' },
                { name: 'Z1', pse: '1-2', desc: 'Leve', example: 'Muito fácil', lower: 1.30, colorClass: 'z1' }
            ];

            function formatTime(segundos) {
                const min = Math.floor(segundos / 60);
                const sec = Math.round(segundos % 60);
                return `${String(min).padStart(2, '0')}:${String(sec).padStart(2, '0')}`;
            }
            
            function calcularVo2max(dist, tempoSeg) {
                const vel = dist / (tempoSeg / 60);
                return -4.60 + 0.18225 * vel + 0.000104 * vel ** 2;
            }

            function validarTempo(min, sec) {
                if (isNaN(min) || isNaN(sec)) {
                    return 'Insira números válidos para minutos e segundos.';
                }
                const totalSec = min * 60 + sec;
                if (totalSec < 300 || totalSec > 1800) {
                    return 'Tempo fora do intervalo aceitável (5 a 30 min).';
                }
                return null;
            }

            function showError(msg) {
                errorBox.textContent = '⚠️ ' + msg;
                errorBox.classList.remove('hidden');
                results.classList.add('hidden', 'opacity-0');
            }

            function hideError() {
                errorBox.classList.add('hidden');
            }

            function renderResultsTable(paceKm) {
                tableBody.innerHTML = '';
                const fragment = document.createDocumentFragment();
                [...ZONAS_DE_TREINO].reverse().forEach(z => {
                    const pMin = paceKm * z.lower;
                    const pMax = z.upper ? paceKm * z.upper : null;
                    const tr = document.createElement('tr');
                    const paceText = pMax ? `${formatTime(pMax)} - ${formatTime(pMin)}` : `Mais lento que ${formatTime(pMin)}`;
                    tr.innerHTML = `
                        <td class="px-4 py-4"><div class="zone-badge ${z.colorClass} w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm">${z.name}</div></td>
                        <td class="text-center font-semibold text-sm">${z.pse}</td>
                        <td class="text-sm text-gray-600">${z.desc}: <em class="italic">${z.example}</em></td>
                        <td class="font-semibold text-sm">${paceText}</td>`;
                    fragment.appendChild(tr);
                });
                tableBody.appendChild(fragment);
            }
            
            function handleFormSubmit(e) {
                e.preventDefault();
                calculateBtn.disabled = true;
                calculateBtn.textContent = 'Calculando...';
                const min = parseInt(minInput.value, 10);
                const sec = parseInt(secInput.value, 10);
                const erro = validarTempo(min, sec);
                if (erro) {
                    showError(erro);
                    calculateBtn.disabled = false;
                    calculateBtn.textContent = 'Calcular Resultados';
                    return;
                }
                hideError();
                const totalSec = min * 60 + sec;
                const vo2 = calcularVo2max(3000, totalSec);
                const paceKm = totalSec / 3;
                vo2Display.textContent = vo2.toLocaleString('pt-BR', { maximumFractionDigits: 1 });
                paceDisplay.textContent = formatTime(paceKm) + ' /km';
                renderResultsTable(paceKm);
                results.classList.remove('hidden');
                setTimeout(() => results.classList.remove('opacity-0', '-translate-y-4'), 10);
                results.focus();
                calculateBtn.disabled = false;
                calculateBtn.textContent = 'Calcular Resultados';
            }

            if(form) {
                form.addEventListener('submit', handleFormSubmit);
            }
        });
    </script>
</body>
</html>
